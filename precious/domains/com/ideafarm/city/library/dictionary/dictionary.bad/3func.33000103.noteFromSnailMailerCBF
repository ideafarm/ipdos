
//
// Copyright (c) 1992-2021 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 29 years.
// Respecting the rights of other people is an important part of empowering one another.
//


}
    LOGrAW( "\r\n---- psttKVReportP (END) -----------------------------------------------------------------\r\n" ) ;
    LOGrAW( T(psttKVReportP) ) ;
    LOGrAW( "\r\n---- psttKVReportP (BEGIN) -----------------------------------------------------------------\r\n" ) ;
    LOGrAW3( "noteFromSnailMailerCBF [bValid]:    " , bValid , "\r\n" ) ;

    }
        }
            }
                if( !etThread.strCompareF( tinP , psttLeverKVP , *pptKey[ offk ] ) ) *pptValue[ offk ] = T((strokeS*)(countT)swKVP) ;
            {
            for( countT offk = 0 ; offk < sizeof pptKey / sizeof pptKey[ 0 ] ; offk ++ )

            psttLeverKVP = (strokeS*)swKVP.leverF( tinP , idf ) ;
        {
        for( countT idf = 1 ; idf <= cFlavors ; idf ++ )
        countT cFlavors = swKVP.cFlavorsF( tinP ) ;

        } ;
            &tValueItemNumber                    ,
            &tValueTransId                       ,
            &tValueTransType                     ,

            &tValueRewardBox                     ,
            &tValueRewardBoxHidden               ,

            &tValueIdTest                        ,
            &tValuePaypalCustom                  ,
            &tValuePaypalPaymentStatus           ,
            &tValuePaypalPaymentGross            ,
            &tValuePaypalPaymentFee              ,
            //CS:B

            &tValueResidenceCountry              ,
            &tValuePaypalProtectionEligibility   ,
            &tValuePaypalPayerStatus             ,
            &tValuePaypalPayerId                 ,
            &tValuePaypalPayerEmail              ,
            &tValueLastName                      ,
            &tValueFirstName                     ,
            &tValueCharset                       ,
            &tValueAddressZip                    ,
            &tValueAddressStreet                 ,
            &tValueAddressStatus                 ,
            &tValueAddressState                  ,
            &tValueAddressName                   ,
            &tValueAddressCountryCode            ,
            &tValueAddressCountry                ,
            &tValueAddressCity                   ,
            //CS:CODEsYNC: 1d20005 1d20005 1d20005
        {
        textC* pptValue[] =

        } ;
            &tKeyItemNumber                     ,
            &tKeyTransId                        ,
            &tKeyTransType                      ,

            &tKeyRewardBox                      ,
            &tKeyRewardBoxHidden                ,

            &tKeyIdTest                         ,
            &tKeyPaypalCustom                   ,
            &tKeyPaypalPaymentStatus            ,
            &tKeyPaypalPaymentGross             ,
            &tKeyPaypalPaymentFee               ,
            //CS:B

            &tKeyResidenceCountry               ,
            &tKeyPaypalProtectionEligibility    ,
            &tKeyPaypalPayerStatus              ,
            &tKeyPaypalPayerId                  ,
            &tKeyPaypalPayerEmail               ,
            &tKeyLastName                       ,
            &tKeyFirstName                      ,
            &tKeyCharset                        ,
            &tKeyAddressZip                     ,
            &tKeyAddressStreet                  ,
            &tKeyAddressStatus                  ,
            &tKeyAddressState                   ,
            &tKeyAddressName                    ,
            &tKeyAddressCountryCode             ,
            &tKeyAddressCountry                 ,
            &tKeyAddressCity                    ,
            //CS:CODEsYNC: 1d20005 1d20005 1d20005
        {
        textC* pptKey[] =

        TN( tValueItemNumber                    , "" ) ;
        TN( tValueTransId                       , "" ) ;
        TN( tValueTransType                     , "" ) ;

        TN( tValueRewardBox                     , "" ) ;
        TN( tValueRewardBoxHidden               , "" ) ;

        TN( tValueIdTest                        , "" ) ;
        TN( tValuePaypalCustom                  , "" ) ;
        TN( tValuePaypalPaymentStatus           , "" ) ;
        TN( tValuePaypalPaymentGross            , "" ) ;
        TN( tValuePaypalPaymentFee              , "" ) ;

        TN( tValueResidenceCountry              , "" ) ;
        TN( tValuePaypalProtectionEligibility   , "" ) ;
        TN( tValuePaypalPayerStatus             , "" ) ;
        TN( tValuePaypalPayerId                 , "" ) ;
        TN( tValuePaypalPayerEmail              , "" ) ;
        TN( tValueLastName                      , "" ) ;
        TN( tValueFirstName                     , "" ) ;
        TN( tValueCharset                       , "" ) ;
        TN( tValueAddressZip                    , "" ) ;
        TN( tValueAddressStreet                 , "" ) ;
        TN( tValueAddressStatus                 , "" ) ;
        TN( tValueAddressState                  , "" ) ;
        TN( tValueAddressName                   , "" ) ;
        TN( tValueAddressCountryCode            , "" ) ;
        TN( tValueAddressCountry                , "" ) ;
        TN( tValueAddressCity                   , "" ) ;

        TN( tKeyItemNumber                      , "item_number"            ) ;
        TN( tKeyTransId                         , "txn_id"                 ) ;
        TN( tKeyTransType                       , "txn_type"               ) ;

        TN( tKeyRewardBox                       , "option_selection1"      ) ;
        TN( tKeyRewardBoxHidden                 , "option_selection2"      ) ;

        TN( tKeyIdTest                          , "ifcidtest"              ) ;
        TN( tKeyPaypalCustom                    , "custom"                 ) ;
        TN( tKeyPaypalPaymentStatus             , "payment_status"         ) ;
        TN( tKeyPaypalPaymentGross              , "payment_gross"          ) ;
        TN( tKeyPaypalPaymentFee                , "payment_fee"            ) ;

        TN( tKeyResidenceCountry                , "residence_country"      ) ;
        TN( tKeyPaypalProtectionEligibility     , "protection_eligibility" ) ;
        TN( tKeyPaypalPayerStatus               , "payer_status"           ) ;
        TN( tKeyPaypalPayerId                   , "payer_id"               ) ;
        TN( tKeyPaypalPayerEmail                , "payer_email"            ) ;
        TN( tKeyLastName                        , "last_name"              ) ;
        TN( tKeyFirstName                       , "first_name"             ) ;
        TN( tKeyCharset                         , "charset"                ) ;
        TN( tKeyAddressZip                      , "address_zip"            ) ;
        TN( tKeyAddressStreet                   , "address_street"         ) ;
        TN( tKeyAddressStatus                   , "address_status"         ) ;
        TN( tKeyAddressState                    , "address_state"          ) ;
        TN( tKeyAddressName                     , "address_name"           ) ;
        TN( tKeyAddressCountryCode              , "address_country_code"   ) ;
        TN( tKeyAddressCountry                  , "address_country"        ) ;
        TN( tKeyAddressCity                     , "address_city"           ) ;

        LOGrAW( "\r\n---- tValidationReply GOOD (END) -----------------------------------------------------------------\r\n" ) ;
        LOGrAW( tValidationReply ) ;
        LOGrAW( "\r\n---- tValidationReply GOOD (BEGIN) -----------------------------------------------------------------\r\n" ) ;
        LOGrAW( "\r\n---- tValidationRequest GOOD (END) -----------------------------------------------------------------\r\n" ) ;
        LOGrAW( tValidationRequest ) ;
        LOGrAW( "\r\n---- tValidationRequest GOOD (BEGIN) -----------------------------------------------------------------\r\n" ) ;
        //U::COMMENT THIS OUT IN PRODUCTION AFTER CONFIDENT IN PROD FUNCTION
    {

    LOGrAW( "\r\n---- postBodyP (END) -----------------------------------------------------------------\r\n" ) ;
    LOGrAW( postBodyP ) ;
    LOGrAW( "\r\n---- postBodyP (BEGIN) -----------------------------------------------------------------\r\n" ) ;

    //THIS WORKS IN FIREFOX BROWSER: https://www.sandbox.paypal.com:443/cgi-bin/webscr?cmd=_notify-validate&mc_gross=1.00&protection_eligibility=Eligible&address_status=confirmed&payer_id=4QLHUR4EYW37J&address_street=1+Main+St&payment_date=15%3A55%3A04+Jun+04%2C+2020+PDT&payment_status=Completed&charset=windows-1252&address_zip=95131&first_name=John&mc_fee=0.33&address_country_code=US&address_name=John+Doe&notify_version=3.9&subscr_id=I-DEKU4NNTHS0H&payer_status=verified&business=sb-znjve1276155%40business.example.com&address_country=United+States&address_city=San+Jose&verify_sign=AS.sXmO3SZlbZsuBgmx57wrfjxyDAk855hu6vdRmhFRd0mqr2l3hMU7l&payer_email=sb-prtxq883780%40personal.example.com&txn_id=5W609239EF681420H&payment_type=instant&btn_id=4125335&last_name=Doe&address_state=CA&receiver_email=sb-znjve1276155%40business.example.com&payment_fee=0.33&receiver_id=755UKLGFJ8XU2&txn_type=subscr_payment&item_name=Wo'O's+Table+Registration+and+Subscription&mc_currency=USD&item_number=20200604&residence_country=US&test_ipn=1&transaction_subject=Wo'O's+Table+Registration+and+Subscription&payment_gross=1.00&ipn_track_id=5075e5b427054 HTTP/1.1
    //OLD FORMAT: GET /cgi-bin/webscr?cmd=_notify-validate&mc_gross=1.00&protection_eligibility=Eligible&address_status=confirmed&payer_id=4QLHUR4EYW37J&address_street=1+Main+St&payment_date=17%3A04%3A06+Jun+04%2C+2020+PDT&payment_status=Completed&charset=windows-1252&address_zip=95131&first_name=John&mc_fee=0.33&address_country_code=US&address_name=John+Doe&notify_version=3.9&subscr_id=I-1CXF383WH8P0&payer_status=verified&business=sb-znjve1276155%40business.example.com&address_country=United+States&address_city=San+Jose&verify_sign=AEHpL6M1JS9Z4r02TsvVIey5ocFqAgLcANkEe9kVFcJG4kqTWCtTJprq&payer_email=sb-prtxq883780%40personal.example.com&txn_id=1XX85736SF014420R&payment_type=instant&btn_id=4125335&last_name=Doe&address_state=CA&receiver_email=sb-znjve1276155%40business.example.com&payment_fee=0.33&receiver_id=755UKLGFJ8XU2&txn_type=subscr_payment&item_name=Wo%27O%27s+Table+Registration+and+Subscription&mc_currency=USD&item_number=20200604&residence_country=US&test_ipn=1&transaction_subject=Wo%27O%27s+Table+Registration+and+Subscription&payment_gross=1.00&ipn_track_id=92fb2ec1f693b HTTP/1.1
   //20200731@1556: CHANGED FROM HTTP/1.0 TO HTTP/1.1 WITHOUT ANALYSIS

    boolT bSandbox = etherC::ifc_idHomeI_IF() & fliIDhOME_HOMELESS ;
    TN( tValidationReply   , "" ) ;
    TN( tValidationRequest , "" ) ;
    ZE( boolT , bGot ) ;
    ZE( boolT , bValid ) ;
{
/*1*/voidT noteFromSnailMailerCBF( tinS& tinP , etherC& etThread , const boolT& bQuitP , httpServerC& meP , countT& cArgP , httpReplyS& replyP , stackC& stBodyP , const strokeS* const psttKVReportP , switchC& swKVP , strokeS*& psttLeverKVP , sessionsC& sessionsP , nicNameC& nnPeerP , const strokeS* const psttNameP , const strokeS* const psttQueryKVP , const strokeS* const psttPeerAgentP , const osTextT* const postBodyP )/*1*/

/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 29 years.
//
// Copyright (c) 1992-2021 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//

