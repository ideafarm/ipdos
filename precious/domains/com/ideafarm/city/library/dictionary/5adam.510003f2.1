
//
// Copyright (c) 1992-2020 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 28 years.
// Respecting the rights of other people is an important part of empowering one another.
//


REST
etThread.osProcessIdPhaseAdamF( tinP , ifcIDpHASEhANDOFFoLD_SHUTTINGdOWN ) ;

}
    }
        etThread.osSleepF( tinP , TOCK * 0x20 , TOCK , flSLEEP_TALK ) ;
        etThread.strokeF( tinP , T("\r" BLANK79 "\r") ) ;

        }
            }
                DEL( pCar ) ;
                }
                    etThread.delF( tinP , psttEmail ) ;
                    }
                        etThread.strokeF( tinP , T("activity report mailed to \"")+T(psttEmail)+T("\"\r\n") ) ;
                        etThread.delF( tinP , postr ) ;

                        }
                            sOut.writeMsgF( tinP , T(postr) ) ;
                            sOut.writeMsgF( tinP , T("ideafarm.com//smtp/" ifcEMAIL_OLDfROM "/")+tTo ) ;
                            etThread.strokeF( tinP , T("\"")+tTo+T("\"\r\n") ) ;
                            textC tTo = T(psttEmail)+T("/" ifcEMAIL_OLDfROM "") ;
                            sOut.connectF( tinP , ifcPORToLD1oUTGOINGmAILBOX , 0x01010102 ) ;
                            socketC sOut( tinP , ether , TAG( TAGiDnULL ) ) ;
                        {

                        { ZE( strokeS* , psttnu ) ; etThread.boxPutUniqueF( tinP , psttnu , T("///ideafarm/ephemeral/domains/com/ideafarm/4f30104/email") , postr , costr ) ; etThread.delF( tinP , psttnu ) ; }

                        etThread.delF( tinP , psttr2 ) ;
                        etThread.delF( tinP , psttr1 ) ;
                        countT costr = etThread.strMakeF( tinP , LF , postr , T(psttr1)+T(psttr2) ) ; ___( postr ) ;
                        ZE( osTextT* , postr ) ;

                        pCar->strF( tinP , psttr2 ) ; ___( psttr2 ) ;
                        ZE( strokeS* , psttr2 ) ;

                        }
                            ) ; ___( psttr1 ) ;

                                "\r\n")
                                "\r\n"
                                ifcEMAIL_WEBsITEcONTACT " or see http://www.ideafarm.com .  Thank you.\r\n"
                                "is strongly opposed to spam.  If you received this in error, please contact\r\n"
                                "obtained citizenship in IdeaFarm (tm) City for your email address.  IdeaFarm " "(tm) City\r\n"
                                "You are receiving this report because you, or an impostxr who claimed to be you,\r\n"
                                T("Subject: Your Citizen Activity Report\r\n\r\n"

                            etThread.strMakeF( tinP , LF , psttr1 ,
                        {
                        ZE( strokeS* , psttr1 ) ;
                    {
                    if( psttEmail )

                    }
                        if( !psttEmail ) etThread.ifcExternalEmailFromIdCitizenF( tinP , psttEmail , 1 ) ;
                        if( pCar->idcHirer ) etThread.ifcExternalEmailFromIdCitizenF( tinP , psttEmail , pCar->idcHirer ) ;
                    {
                    ZE( strokeS* , psttEmail ) ;
                {
                if( pCar )
                swCar = 0 ;
                carC* pCar = (carC*)(countT)swCar ;
                idcHirer = swCar.leverF( tinP , idf ) ;
            {
            for( countT idf = 1 ; idf <= cFlavors ; idf ++ )
            countT cFlavors = swCar.cFlavorsF( tinP ) ;

            etThread.delF( tinP , pstt1m ) ;
            }
                etThread.delF( tinP , pbSoul ) ;
                }
                    if( pCar ) *pCar += car ;

                    }
                        if( pCar ) swCar = (countT)pCar ;
                        pCar = new( 0 , tinP , LF ) carC( tinP , ether , idcHirer ) ; ___( pCar ) ;
                    {
                    if( !pCar )
                    carC* pCar = (carC*)(countT)swCar ;
                    idcHirer = car.idcHirer ;                

                    carC car( tinP , ether , pbSoul ) ;
                {
                etThread.boxGetShadowF( tinP , pbSoul , cbSoul , psttc1 ) ; ___( pbSoul ) ;
                ZE( countT , cbSoul ) ;
                ZE( byteT* , pbSoul ) ;
            {
            FORsTRINGSiN1( pstt1m )
            switchC swCar( tinP , ether , TAG( TAGiDnULL ) , flSTACKc_null , idcHirer ) ;
            ZE( countT , idcHirer ) ;

            etThread.boxMenuF( tinP , soul1m , tArcTo+T("*") ) ; ___( pstt1m ) ;
            ZE( strokeS* , pstt1m ) ;

            etThread.boxPourF( tinP , tArcTo , tArcFrom , 0x10000 ) ;
            textC tArcTo = T("///ideafarm/ephemeral/domains/com/ideafarm/4f30104/")+TF3(now.time2,flFORMAT_UNSIGNED|flFORMAT_FILLzE,8)+T(".")+TF3(now.time1,flFORMAT_UNSIGNED|flFORMAT_FILLzE,8)+T("/") ;
            etThread.osTimeNowF( tinP , now.time1 , now.time2 ) ;
            timeS now ;
        {
        if( idCycle == 1 || bNewHour )

        time2last = time2 ;
        time1last = time1 ;

        const boolT bNewDayEnd    = bNewHour && offHOUR( time1 ) == 0x5 ;
        const boolT bNewStrongEnd = bNewDay && ( offDAY( time2 ) == 0x6 || offDAY( time2 ) == 0xe ) ;

        const boolT bNewTick      = bNewHour   || offTICK(   time1 ) != offTICK(   time1last ) ;
        const boolT bNewHour      = bNewDay    || offHOUR(   time1 ) != offHOUR(   time1last ) ;
        const boolT bNewDay       = bNewStrong || offDAY(    time2 ) != offDAY(    time2last ) ;
        const boolT bNewStrong    = bNewQtr    || offSTRONG( time2 ) != offSTRONG( time2last ) ;
        const boolT bNewQtr       = bNewDuck   || offQTR(    time2 ) != offQTR(    time2last ) ;
        const boolT bNewDuck      =               offDUCK(   time2 ) != offDUCK(   time2last ) ;

        etThread.osTimeNowF( tinP , time1 , time2 ) ;
        ZE( sCountT , time2 ) ;
        ZE( countT , time1 ) ;
        idCycle ++ ;
    {
    while( !ether )
    ZE( countT , idCycle ) ;

    TN( tArcFrom , "///ideafarm/ephemeral/domains/com/ideafarm/3f30104/carC/" ) ;

    etThread.osTimeNowF( tinP , time1last , time2last ) ;
    ZE( sCountT , time2last ) ;
    ZE( countT , time1last ) ;
    ZE( strokeS* , psttw ) ;

    etThread.strokeF( tinP , T("IdeaFarm " "(tm) City Activity Reporter\r\ni report activity, and generate one billing line item per hirer, for each strong\r\n") ) ;
{
else
}
    etThread.strokeF( tinP , T("Another ")+textIdFileC( tinP , DDNAME )+T(" appears to be alive on this computer.  Only one is allowed.") ) ;
    etThread = 0  ;
{
if( etThread )
U:: USE napkinC OBJECT TO TEST FOR ALONENESS
batonC baton( tinP , TAG( TAGiDnULL ) , T("4f30104") ) ;

TODO

/*1*/WAKEhIDE( "city.activity.reporter" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 28 years.
//
// Copyright (c) 1992-2020 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//

