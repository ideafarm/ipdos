
//
// Copyright (c) 1992-2021 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 29 years.
// Respecting the rights of other people is an important part of empowering one another.
//

                            
REST

etThread.strokeF( tinP , T("ok\r\n") ) ;

}
    THREADmODE2rESTORE
    }
        //++ s ; ether.osSleepF( tinP , TICK >> 2 ) ; //PRODUCTION
        ++ s ; ether.osSleepF( tinP , TOCK << 5 ) ;
        sleepC s( tinP , TAG( TAGiDnULL ) ) ;

        CONoUTrAW3( "\rcycle " , idCycle , " -\r\n" ) ;
        }
            }
                thirdC::dosSleepWinkIF( tinP ) ;
                //CONoUTrAW3( "\r        \r" , cAlive , "\r" ) ;
            {
            while( cAlive )
    
            }
                etThread.osThreadF( TaRG1( tmGorillaF ) , (countT)&cAlive , (countT)&grabx , (countT)&incMe , (countT)&cDone ) ;
                inc02AM( cAlive ) ;
            {    
            while( !ether && cToDo -- )
            countT cToDo = TUCK >> 1 ; //PRODUCTION: DOES NOT WORK AS EXPECTED ON IFC8
            //countT cToDo = TUCK >> 3 ;
            //countT cToDo = 2 ; //DUT
            //countT cToDo = 2 ; //DUT
            etThread.strokeF( tinP , T("launching gorilla attack\r\n") ) ;
        
            ZE( countT , cDone ) ;

            ZE( countT , incMe ) ;
            //grabitC grabx( tinP , TAG( TAGiDnULL ) ) ;        
            grabC grabx( tinP , TAG( TAGiDnULL ) ) ;
        {
        CONoUTrAW3( "cycle " , ++ idCycle , " +\r\n" ) ;

        ZE( countT , cAlive ) ;
    {
    THREADmODE2oN( flTHREADmODE2_UNLOCKpOOLiDENTITY )
{
while( !ether && !POOP )
ZE( countT , idCycle ) ;

TODO

DONE( tmGorillaF )
}
    dec02AM( cAliveP ) ;
    THREADmODE2rESTORE

    }
        else if( !( ( ++ idCycle ) % TUCK ) ) thirdC::dosSleepWinkIF( tinP ) ;
             //if( cDoneCopy >= ( TOCK >> 5 ) ) break ; //PRODUCDTION
             if( cDoneCopy >= ( TICK >> 0xa ) ) break ; //grabC
             //if( cDoneCopy >= ( TICK >> 3 ) ) break ; //grabitC

        if( !( cDoneCopy % TUCK ) ) CONoUTrAW3( "\r        \r" , cDoneCopy , "\r" ) ;
        countT cDoneCopy = 1 + incv02AM( cDoneP ) ;

        grabxP.ungrabF( tinP ) ;
        if( !( incMeP ++ % 2 ) ) { BLAMMO ; }
        if(    incMeP ++ % 2   ) { BLAMMO ; }
        grabxP.grabF( tinP , TAG( TAGiDnULL ) ) ;
    {
    while( !ether && !POOP )
    ZE( countT , idCycle ) ;

    THREADmODE2oN( flTHREADmODE2_MONITORdOnOTrEPORToNmE )

    //}
    //    thirdC::dosPriorityIF( tinP , save ) ;
    //    thirdC::osThreadYieldIF( tinP , TAG( TAGiDnULL ) ) ;
    //    thirdC::dosPriorityIF( tinP , ifcTHREADpRIORITY_RUSH ) ;
    //    countT save = thirdC::dosPriorityIF( tinP ) ;
    //{
    //thirdC::osSelectProcessorsIF( tinP , 2 ) ;

    countT&  cDoneP   =  *(countT*)pTaskP->c4 ;
    countT&  incMeP   =  *(countT*)pTaskP->c3 ;
    //grabitC& grabxP = *(grabitC*)pTaskP->c2 ;
    grabC&   grabxP   =   *(grabC*)pTaskP->c2 ;
    countT&  cAliveP  =  *(countT*)pTaskP->c1 ;
{
if( pTaskP && pTaskP->c1 && pTaskP->c2 && pTaskP->c3 )
TASK( tmGorillaF )

/*1*/WAKEsHOWtEXT( "gorilla.grabC.grabitC" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 29 years.
//
// Copyright (c) 1992-2021 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//

