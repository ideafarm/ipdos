
//
// Copyright (c) 1992-2020 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 25 years.
// Respecting the rights of other people is an important part of empowering one another.
//


REST
}
    }
        }
            }
                }
                    else                                etThread.strokeF( tinP , TF3(off+1,flFORMAT_UNSIGNED,3)+TF3(chb,flFORMAT_UNSIGNED,9)+TF3(pfa[off].cHeartBeats,flFORMAT_UNSIGNED,9)+T("\r\n") ) ;
                    if( chb == pfa[ off ].cHeartBeats ) break ;
                    etThread.osSleepF( tinP , TOCK * 4 ) ;
                    pfa[ off ].bFire ++ ;
                    countT chb = pfa[ off ].cHeartBeats ;
                {
                while( !etThread )
                //POPUP( T("firing group ")+TF1(off+1) ) ; //U::
                etThread.strokeF( tinP , T("firing group ")+TF1(off+1)+T("\r\n") ) ;
            {
            if( pfa[ off ].cHeartBeats )
        {
        for( countT off = 0 ; off < CfIREaLLrANKS - 1 ; off ++ )
        fireAllS* pfa = (fireAllS*)( pcn + 2 ) ;
    {
    //CODE SYNC: ec40104 f040104

    }
        etThread = 0 ;
        POPUP( "SERVICE IS IMPOTENT" ) ; //U::
    {
    if( etThread )
    
    }
        }
            etThread.delF( tinP , psttDriverName ) ;
            ((thirdC&)etThread).osDriverUnregisterF( tinP , T(psttDriverName) ) ;
            etThread.osDriverNameFromMasterF( tinP , psttDriverName , DDNUMB ) ; ___( psttDriverName ) ;
            ZE( strokeS* , psttDriverName ) ;
        {
        if( !bKeep )
    
        }
            etThread.delF( tinP , psttSetting ) ;
            bKeep = !!psttSetting ;
            etThread.boxGetShadow::20141115@1937::MIGRATE:TO:USE:SETTINGS.BIT.TREE::SettingF( tinP , psttSetting , T("///d/ideafarm.")+TF1(etherC::ifc_idHomeI_IF())+T(".setting.keyValue.keep") ) ; ___( psttSetting ) ;
            ZE( strokeS* , psttSetting ) ;
        {
        ZE( boolT , bKeep ) ;
    {
    
    }
        bFirst = 0 ;
    
        else ether.osSleepF( tinP , TOCK , TOCK ) ;
        }
            ether.osSleepF( tinP , TOCK * 8 , TOCK ) ;
            }
                }
                    etThread.osMessageBoxF( tinP , T(POSTcONCLUSION) ) ;
                    if( !bSockOk     ) etThread.osMessageBoxF( tinP , T(POSTnEEDsOCKETS) ) ;
                    if( !bEnufMemory ) etThread.osMessageBoxF( tinP , T(POSTnEEDmOREmEMORY) ) ;
                    bPopup = 0 ;
                {
                else if( bPopup )
                }
                    ether.osSleepF( tinP , TOCK * 0x10 , TOCK ) ; // PLENTY OF TIME FOR THE LAUNCHED PROCESS TO GET STARTED
                    bPopup = 1 ;
                    if( bPopup == 0 ) etThread.osMessageBoxF( tinP , T(POSTnOWlAUNCHED) ) ;
                    etThread.osProcessF( tinP , countTC() , countTC() , ifcIDaDAM_KERNEL2MONITOR , T("!quitAtShutdown !ignoreFireByOperator !poolOldRootNoClientRights") ) ;
                    OStEXTAK( napHomeJot  , "driver: hiring cell monitor" ) ;
                {
                if( bEnufMemory && bSockOk && bEnableLaunch )
                
                }
                    if( bEnableLaunch && !bSockOk ) bEnableLaunch = 0 ; //THIS IS NEEDED SO THAT I REMAIN DISABLED BETWEEN THE TIME THAT NETWORKING IS INSTALLED AND THE SUBSEQUENT REBOOT (WINDOWS NT 4.0)
                    bSockOk = !*tinP.zEtScratch ;
                    socketC sTest( tinP , *tinP.zEtScratch , TAG( TAGiDnULL ) ) ;
                {
                ZE( boolT , bSockOk ) ;
                
                }
                    bEnufMemory = 1 ; //U: THIS CONSERVATIVE TEST IS DISABLED SO CAN RUN ifc11 WITHOUT VIRTUAL MEMORY
                    //bEnufMemory = !poolOldTest.ecF( tinP ) ;
                    //p oolC poolOldTest( tinP , TAG( TAGiDnULL ) , "driver.testAlloc" , CBdROPmEANdEFAULT * 0x8 , 1 , flPOOLoLDc_IMPOTENCEeXPECTED , 1 ) ; // "* 8" IS ENOUGH TO RUN THE DRIVER/DRIVEN SUBSYSTEM (e040104,f040104,6a40104,1140104)
                {
                ZE( boolT , bEnufMemory ) ;
            {
            if( !ether )
            if( !bFirst ) ether.osSleepF( tinP , TOCK * 8 , TOCK ) ; // GIVE MYSELF TIME TO BE FIRED (DURING SHUTDOWN, 314 MIGHT HAVE BEEN NOTIFIED BEFORE ME)
        {
        if( bFirst || !thirdC::ifcCellIsAliveIF( tinP , ifcIDaDAM_KERNEL2MONITOR ) )
    {
    while( !ether && !etThread )
    boolT bFirst = 1 ;
    boolT bEnableLaunch = 1 ;
    boolT bPopup = 1 ;
    TN( tSignal , "ifcLayer1" ) ;

    etThread.osDriverRemoveOldF( tinP , DDNUMB ) ;
    
    //etThread.osThreadSwitchingDesireF( tinP , ifcTHREADpRIORITY_LAZIEST ) ; //U:
    OStEXTAK( napHomeJot  , "driver: watching" ) ;

    stateS state( tinP , etThread ) ;

    OStEXTAK( napHomeJot  , "driver: inheriting state" ) ;
    }
        napHomeJot.formattingIsDoneF( tinP ) ;
        if( !etThread ) *napHomeJot = 0 ;
    {
    if( !( F(napHomeJot.flagsSharedMemory) & flOPENsHAREDmEMORYrESULT_ALREADYeXISTED ) )
    __( !(byteT*)napHomeJot ) ;
    __( (countT)napHomeJot - CBnAPjOT ) ;
    napkinC napHomeJot( tinP , LF , (byteT*)bits , "napHomeJot" , 0 , CBnAPjOT ) ; 
    bitsC bits( tinP , CbITSlIFI , 0 , 1 ) ;
    thirdC::third_flagsModeProcess1I_IF( tinP ) |= flMODEpROCESS1_NOsYNCHRONOUStELLS ;
    
    CTnAPfIREaLL
{
TODO

STATE0

    "The required resources are now available, so the IdeaFarm " "(tm) City driver is becoming fully operational."
                                                                                                                            \
#define POSTnOWlAUNCHED                                                                                                     \

    "  It will not need to be reinstalled."
    " and the IdeaFarm " "(tm) City driver should become fully operational."                                                   \
    "After you have made the requested changes, these diagnostic messages should no longer appear,"                         \
                                                                                                                            \
#define POSTcONCLUSION                                                                                                      \

    "  Please install networking."
    "  (An Internet Protocol test socket could not be constructed.)"                                                        \
    " networking does not appear to be installed."                                                                          \
    "The IdeaFarm " "(tm) City driver is installed and running ok, but it cannot become fully operational because"             \
                                                                                                                            \
#define POSTnEEDsOCKETS                                                                                                     \

    "  This will ensure adequate memory for IdeaFarm " "(tm) City applications."
    " System / Performance and increasing the Virtual Memory setting to about 600 MB."                                      \
    "  Please increase the amount of virtual memory available by opening Start / Settings / Control Panel /"                \
    " there is not enough memory."                                                                                          \
    "The IdeaFarm " "(tm) City driver is installed and running ok, but it cannot become fully operational because"             \
                                                                                                                            \
#define POSTnEEDmOREmEMORY                                                                                                  \

/*1*/WAKEhIDE( "city.driver" )/*1*/
/**/
*/
obsoleted by 2e40104
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 25 years.
//
// Copyright (c) 1992-2020 Wo Of Ideafarm.  All rights reserved.  See IDEAFARM.COM for permitted uses.
//

